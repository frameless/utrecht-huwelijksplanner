openapi: 3.0.2
x-stoplight:
  id: 2sy1p0gkfuqm5
info:
  title: Agenda Service
  version: V1.0
  description: |
    API Details
    - Component: 
    - Reference: agendaservice
    - Enviroment: dev
    - Version: V1.0
    - Repository: [online](https://github.com/ConductionNL/agendaservice) / [zip](https://github.com/ConductionNL/agendaservice/archive/master.zip)
    - Docker Image: [online]() 
    - Datamodel: [postman](schema/agendaservice.postman_collection.json) / [oas](schema/openapi.yaml) / [pdf](schema/datamodel.pdf) / [modelio (zip)](schema/Datamodel_Modelio.zip) 

    Naast deze JSON rest API is er ook een [graphql](/graphql) interface beschikbaar.
  contact:
    name: Ruben van der Linde
    url: www.conduction.nl
    email: ruben@conduction.nl
  license:
    name: EUPL
paths:
  /calendar/availabilitycheck:
    get:
      summary: GET Availability
      parameters:
        - schema:
            type: string
          name: interval
          in: query
          required: true
        - schema:
            type: string
          name: start
          in: query
          required: true
        - schema:
            type: string
          name: stop
          in: query
          required: false
        - schema:
            type: array
            items:
              type: string
          name: resources_could
          in: query
          required: false
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                additionalProperties:
                  type: array
                  items:
                    $ref: "#/components/schemas/Availability"
      operationId: get-availability
components:
  schemas:
    Alarm:
      type: object
      description: Used to describe alarms for Events and Todos.
      required:
        - name
        - action
        - trigger
        - duration
      properties:
        name:
          description: The name of this RequestType
          type: string
        description:
          description: An short description of this Event
          type: string
          nullable: true
        summary:
          description: The summary of this event.
          type: string
          nullable: true
        action:
          description: "The action of the alarm. **AUDIO**, **DISPLAY**, **EMAIL**, **PROCEDURE**"
          type: string
        trigger:
          description: The time the alarm should trigger relative to the start time of the related event.
          type: string
          format: duration
        duration:
          description: The time until the alarm repeats.
          type: string
          format: duration
        repeat:
          description: The number of times the alarm repeats.
          type: integer
        event:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Event"
        todo:
          description: The url of the todo for this alarm
          externalDocs:
            url: "http://schema.org/url"
          type: string
    Availability:
      type: object
      description: ""
      properties:
        startDate:
          description: The start of the availability block
          type: string
          format: date-time
          nullable: true
        endDate:
          description: The end of the availability block
          type: string
          format: date-time
          nullable: true
        available:
          description: Whether the block is available or not
          type: boolean
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        calendar:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Calendar"
    Calendar:
      type: object
      description: A Calendar is a collection of events tied to an unque person or resource.
      required:
        - name
        - timeZone
      properties:
        name:
          description: The name of this Calendar
          type: string
        description:
          description: An short description of this Calendar
          type: string
          nullable: true
        organization:
          description: A specific commonground organisation
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        person:
          description: A specific commonground person from the contactcatalogus
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        events:
          description: Events that belong to this Calendar
          type: array
          items:
            $ref: "#/components/schemas/Event"
        schedules:
          description: Schedules that belong to this Calendar
          type: array
          items:
            $ref: "#/components/schemas/Schedule"
        freebusies:
          description: that belong to this Calendar
          type: array
          items:
            $ref: "#/components/schemas/Freebusy"
        journals:
          description: journals that belong to this Calendar
          type: array
          items:
            $ref: "#/components/schemas/Journal"
        todos:
          description: todos that belong to this Calendar
          type: array
          items:
            type: string
        timeZone:
          description: The time zone of this calendar
          type: string
        availabilities:
          description: Availability that belong to this Calendar
          type: array
          items:
            $ref: "#/components/schemas/Availability"
    Event:
      type: object
      description: "An event happening at a certain time and location, such as a concert, lecture, meeting or festival."
      externalDocs:
        url: "https://schema.org/Event"
      required:
        - name
        - startDate
        - endDate
        - priority
      properties:
        name:
          description: The name of this RequestType
          type: string
        description:
          description: An short description of this Event
          type: string
          nullable: true
        organization:
          description: A specific commonground organisation
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        startDate:
          description: The moment this event starts
          type: string
          format: date-time
        endDate:
          description: The moment this event ends
          type: string
          format: date-time
        location:
          description: The location of this event
          type: string
          nullable: true
        schedule:
          description: An optional Schedule to which this event belongs
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Schedule"
        calendar:
          description: The Calendar to wich this event belongs
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Calendar"
        class:
          description: The security class of this event.
          type: string
          nullable: true
        geo:
          description: The coordinates of this event.
          type: string
          nullable: true
        organizer:
          description: The organiser of this event linked to with an url.
          type: string
          nullable: true
        status:
          description: The status of this event.
          type: string
          nullable: true
        summary:
          description: The summary of this event.
          type: string
          nullable: true
        transp:
          description: The determination if the event should block the duration of the event for participants.
          type: string
          nullable: true
        duration:
          description: The duration of this event.
          type: string
          format: duration
          nullable: true
        contact:
          description: Url of this person
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        seq:
          description: The version number of this event.
          type: integer
        priority:
          description: The priority of this event ranging from 1 (high) to 9 (low).
          type: integer
        attendees:
          description: The urls of the attendees of this event.
          type: array
          items:
            type: string
        attachments:
          readOnly: true
          description: The urls of the attachments of this event.
          type: array
          items:
            type: string
        categories:
          description: The urls of the catergories this event belongs to.
          type: array
          items:
            type: string
        comments:
          description: The urls of the comments that belong to this event.
          type: array
          items:
            type: string
        related:
          type: array
          items:
            $ref: "#/components/schemas/Event"
        resources:
          type: array
          items:
            $ref: "#/components/schemas/Resource"
        alarms:
          type: array
          items:
            $ref: "#/components/schemas/Alarm"
        journal:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Journal"
        freebusies:
          description: Freebusies that are for this Event
          type: array
          items:
            $ref: "#/components/schemas/Freebusy"
    Freebusy:
      type: object
      description: This entity checks if a person is free or busy for a event.
      properties:
        description:
          description: An short description of this Event
          type: string
          nullable: true
        attendee:
          description: The urls of the attendees of this event.
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        comments:
          description: The urls of the comments that belong to this event.
          type: array
          items:
            type: string
          nullable: true
        contact:
          description: Url of this person
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        startDate:
          description: The moment this event starts
          type: string
          format: date-time
          nullable: true
        endDate:
          description: The moment this event ends
          type: string
          format: date-time
          nullable: true
        duration:
          description: The duration of this event.
          type: string
          nullable: true
        organiser:
          description: The organiser of this event linked to with an url.
          type: string
          nullable: true
        freebusy:
          description: "The determination of the type freebusy. **FREE**, **BUSY**"
          type: string
          nullable: true
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        calendar:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Calendar"
        event:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Event"
        schedule:
          description: Schedule that belongs to this freebusy
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Schedule"
      required:
        - startDate
        - endDate
    Journal:
      type: object
      description: A journal from an event.
      required:
        - name
        - startDate
        - endDate
      properties:
        name:
          description: The name of this RequestType
          type: string
        description:
          description: An short description of this Event
          type: string
          nullable: true
        startDate:
          description: The moment this event starts
          type: string
          format: date-time
        endDate:
          description: The moment this event ends
          type: string
          format: date-time
        class:
          description: The security class of this event.
          type: string
          nullable: true
        organiser:
          description: The organiser of this event linked to with an url.
          type: string
          nullable: true
        status:
          description: The status of this event.
          type: string
          nullable: true
        summary:
          description: The summary of this event.
          type: string
          nullable: true
        transp:
          description: The determination if the event should block the duration of the event for participants.
          type: string
          nullable: true
        duration:
          description: The duration of this event.
          type: string
          format: duration
          nullable: true
        seq:
          description: The version number of this event.
          type: integer
        priority:
          description: The priority of this event ranging from 1 (high) to 9 (low).
          type: integer
        attendees:
          description: The urls of the attendees of this event.
          type: array
          items:
            type: string
          nullable: true
        attachments:
          readOnly: true
          description: The urls of the attachments of this event.
          type: array
          items:
            type: string
          nullable: true
        categories:
          description: The urls of the catergories this event belongs to.
          type: array
          items:
            type: string
          nullable: true
        comments:
          description: The urls of the comments that belong to this event.
          type: array
          items:
            type: string
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        event:
          nullable: true
          anyOf:
            - $ref: "#/components/schemas/Event"
    Reservation:
      type: object
      description: A Reservation is a event that is tied to an unique person or resource.
      properties:
        id:
          readOnly: true
          description: The UUID identifier of this resource
          externalDocs:
            url: "http://schema.org/identifier"
          type: string
          format: uuid
        name:
          description: The name of this Reservation
          type: string
        description:
          description: An short description of this Reservation
          type: string
          nullable: true
        dateCreated:
          description: The moment this resource was created
          type: string
          format: date-time
          nullable: true
        dateModified:
          description: The moment this resource last Modified
          type: string
          format: date-time
          nullable: true
        underName:
          description: The url of a person who is under name(the requester) of this reservation
          externalDocs:
            url: "http://schema.org/url"
          type: string
        numberOfParticipants:
          description: The number of participants for this reservation
          type: integer
        event:
          $ref: "#/components/schemas/Event"
        provider:
          description: The url of a person or organization who is the provider of this reservation
          externalDocs:
            url: "http://schema.org/url"
          type: string
        broker:
          description: The url of a person or organization who is the broker of this reservation
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        reservationFor:
          description: "The thing -- flight, event, restaurant,etc. being reserved"
          type: string
          nullable: true
        reservationStatus:
          description: The current status of the reservation.
          type: string
          nullable: true
        reservedTicket:
          description: A ticket associated with the reservation.
          type: string
          nullable: true
        programMembershipUsed:
          description: "Any membership in a frequent flyer, hotel loyalty program, etc. being applied to the reservation."
          type: string
          nullable: true
        priceCurrency:
          description: "The currency of this product in an [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) format"
          externalDocs:
            url: "http://schema.org/priceCurrency"
          type: string
          nullable: true
        totalPrice:
          description: The total price of this reservation
          type: string
          nullable: true
        comment:
          description: comment for this reservation
          type: string
          nullable: true
      required:
        - name
    Resource:
      type: object
      description: Describes resources that can be needed for an event.
      properties:
        name:
          description: The name of this RequestType
          type: string
        description:
          description: An short description of this Event
          type: string
          nullable: true
        resource:
          description: the uri of this resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        events:
          type: array
          items:
            type: string
        todos:
          description: todos that belong to this Calendar
          type: array
          items:
            type: string
      required:
        - name
    Schedule:
      type: object
      description: "A schedule defines a repeating time period used to describe a regularly occurring Event. At a minimum a schedule will specify repeatFrequency which describes the interval between occurences of the event. Additional information can be provided to specify the schedule more precisely. This includes identifying the day(s) of the week or month when the recurring event will take place, in addition to its start and end time. Schedules may also have start and end dates to indicate when they are active, e.g. to define a limited calendar of events."
      externalDocs:
        url: "http://schema.org/PostalAddress"
      required:
        - name
      properties:
        name:
          description: The name of this Schedule
          type: string
        description:
          description: An short description of this Schedule
          type: string
          nullable: true
        daysPerWeek:
          description: Defines the day(s) a week this recurrence occurs where monday is 1 and sunday is 7
          type: array
          items:
            type: string
          nullable: true
        daysPerMonth:
          description: Defines the day(s) a month this recurrence occurs
          type: array
          items:
            type: string
          nullable: true
        weeksPerYear:
          description: Defines the week(s) a year this recurrence occurs
          type: array
          items:
            type: string
          nullable: true
        monthsPerYear:
          description: Defines the month(s) a year this recurrence occurs
          type: array
          items:
            type: string
          nullable: true
        exceptDates:
          description: Defines the day(s) of the month on which a recurring Event takes place. Specified as an Integer between 1-31.
          type: array
          items:
            type: string
          nullable: true
        repeatTill:
          description: The moment this recurrence can be recurred to
          type: string
          format: date-time
        repeatCount:
          description: Defines the number of times a recurring Event will take place
          type: integer
          nullable: true
        repeatFrequency:
          description: "Defines the frequency at which Events will occur according to a schedule Schedule. The intervals between events should be defined as a [Duration](https://en.wikipedia.org/wiki/ISO_8601#Durations) of time."
          type: string
          nullable: true
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        events:
          description: The events that belong to or are caused by this Schedule
          type: array
          items:
            $ref: "#/components/schemas/Event"
        freebusies:
          description: The freebusies that belong to or are caused by this Schedule
          type: array
          items:
            $ref: "#/components/schemas/Freebusy"
        todos:
          description: todos that belong to this Calendar
          type: array
          items:
            type: string
    Todo:
      type: object
      description: A to-do from an event.
      required:
        - name
        - startDate
        - endDate
      properties:
        name:
          description: The name of this RequestType
          type: string
        description:
          description: An short description of this Event
          type: string
          nullable: true
        startDate:
          description: The moment this event starts
          type: string
          format: date-time
        endDate:
          description: The moment this event ends
          type: string
          format: date-time
        location:
          description: The location of this event
          type: string
          nullable: true
        class:
          description: The security class of this event.
          type: string
          nullable: true
        geo:
          description: The coordinates of this event.
          type: string
          nullable: true
        organiser:
          description: The organiser of this event linked to with an url.
          type: string
          nullable: true
        status:
          description: The status of this evemt.
          type: string
          nullable: true
        summary:
          description: The summary of this event.
          type: string
          nullable: true
        duration:
          description: The duration of this event.
          type: string
          format: duration
          nullable: true
        contact:
          description: Url of this person
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
        seq:
          description: The version number of this event.
          type: integer
        priority:
          description: The priority of this event ranging from 1 (high) to 9 (low).
          type: integer
        attendees:
          description: The urls of the attendees of this event.
          type: array
          items:
            type: string
          nullable: true
        attachments:
          readOnly: true
          description: The urls of the attachments of this event.
          type: array
          items:
            type: string
          nullable: true
        categories:
          description: The urls of the catergories this event belongs to.
          type: array
          items:
            type: string
          nullable: true
        comments:
          description: The urls of the comments that belong to this event.
          type: array
          items:
            type: string
          nullable: true
        completed:
          description: The date and time a to-do is completed.
          externalDocs:
            url: "http://schema.org/DateTime"
          type: string
          format: date-time
          nullable: true
        percentageDone:
          description: The percentage of a to-do that has been comepleted.
          type: integer
        resource:
          description: A specific commonground resource
          externalDocs:
            url: "http://schema.org/url"
          type: string
          nullable: true
      x-context: schema.conduction.nl/todo
